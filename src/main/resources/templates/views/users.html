<div th:fragment="users">
 
<h2>Users</h2>
<br>

      
<table style="font-size:12px; width: 900px; text-align: left; padding: 0px; font-family: verdana;">
<tr>
<th style="width:170px">Email (userID)</th>
<th style="width:120px">Name</th>
<th style="width:120px">Firstname</th>
<th style="width:120px">Address</th>
<th style="width:40px">Postal code</th>
<th style="width:110px">Town</th>
<th style="width:110px">Password</th>
<th style="width:100px">Role</th>
<th></th>
</tr>
<tr th:each="user: ${users}">
<form action="/users" method="post">
<td><span th:text="${user.userName}"></span><input th:value="${user.userName}" type="hidden" name="userName"></td>
<td><input th:value="${user.name}" type="text" name="name"></td>
<td><input th:value="${user.firstName}" type="text" name="firstName"></td>
<td><input th:value="${user.address}" type="text" name="address"></td>
<td><input th:value="${user.postalCode}" type="text" name="postalCode"></td>
<td><input th:value="${user.town}" type="text" name="town"></td>
<td><input type="text" name="secret"></td>
<td>
<select name="userRole">
    <option
            th:each="role : ${T(thescope.models.UserRoleNames).values()}"
            th:text="${role.string}"
            th:value="${role.string}"  th:selected="${ #strings.equals(role.string, user.userRole)}">
    </option>
</select>
</td>
<td>		<button type="submit">Update details</button></td>
</form>
</tr>
</table>

<strong>
		<p th:text="${message}"></p>
	</strong>
    
</div>